<!DOCTYPE HTML>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Current Weather Conditions</title>
      <style>
          p {
              font-weight: bold;
          }
          table, th, td {
              border: 1px solid black;
              border-collapse: collapse;
          }    </style>
  </head>

  <body>
    <h2>Unaggregated series </h2>
	<p>Unaggregated series in json: $day.outTemp.series.json():</p>
    <pre>[[1283497200, 1283499000, 8.241909444444444], [1283499000, 1283500800, 7.142170555555556], [1283500800, 1283502600, 6.176861666666665], [1283502600, 1283504400, null], [1283504400, 1283506200, 4.712538333333332], [1283506200, 1283508000, 4.238339444444444], [1283508000, 1283509800, 3.947775555555554], [1283509800, 1283511600, 3.8456972222222223], [1283511600, 1283513400, 3.9337322222222206], [1283513400, 1283515200, 4.210253888888889], [1283515200, 1283517000, 4.670409999999999], [1283517000, 1283518800, 5.30620777777778], [1283518800, 1283520600, 6.106647222222223], [1283520600, 1283522400, 7.057913888888889], [1283522400, 1283524200, 8.143609444444444], [1283524200, 1283526000, 9.345038333333333], [1283526000, 1283527800, 10.641522777777778], [1283527800, 1283529600, 12.010760000000001], [1283529600, 1283531400, 13.429200555555557], [1283531400, 1283533200, 14.872454444444445], [1283533200, 1283535000, 16.315707222222223], [1283535000, 1283536800, 17.734143888888887]]</pre>

	<p>Unaggregated series, in json with just start times: $day.outTemp.series.json(time_series='start'):</p>
    <pre>[[1283497200, 8.241909444444444], [1283499000, 7.142170555555556], [1283500800, 6.176861666666665], [1283502600, null], [1283504400, 4.712538333333332], [1283506200, 4.238339444444444], [1283508000, 3.947775555555554], [1283509800, 3.8456972222222223], [1283511600, 3.9337322222222206], [1283513400, 4.210253888888889], [1283515200, 4.670409999999999], [1283517000, 5.30620777777778], [1283518800, 6.106647222222223], [1283520600, 7.057913888888889], [1283522400, 8.143609444444444], [1283524200, 9.345038333333333], [1283526000, 10.641522777777778], [1283527800, 12.010760000000001], [1283529600, 13.429200555555557], [1283531400, 14.872454444444445], [1283533200, 16.315707222222223], [1283535000, 17.734143888888887]]</pre>

	<p>Unaggregated series, in json with start times in milliseconds: $day.outTemp.series.json(time_series='start', time_unit='unix_epoch_ms'):</p>
    <pre>[[1283497200000.0, 8.241909444444444], [1283499000000.0, 7.142170555555556], [1283500800000.0, 6.176861666666665], [1283502600000.0, null], [1283504400000.0, 4.712538333333332], [1283506200000.0, 4.238339444444444], [1283508000000.0, 3.947775555555554], [1283509800000.0, 3.8456972222222223], [1283511600000.0, 3.9337322222222206], [1283513400000.0, 4.210253888888889], [1283515200000.0, 4.670409999999999], [1283517000000.0, 5.30620777777778], [1283518800000.0, 6.106647222222223], [1283520600000.0, 7.057913888888889], [1283522400000.0, 8.143609444444444], [1283524200000.0, 9.345038333333333], [1283526000000.0, 10.641522777777778], [1283527800000.0, 12.010760000000001], [1283529600000.0, 13.429200555555557], [1283531400000.0, 14.872454444444445], [1283533200000.0, 16.315707222222223], [1283535000000.0, 17.734143888888887]]</pre>

    <p>Unaggregated series, as a formatted string (<em>not JSON</em>) : $day.outTemp.series:</p>
    <pre>00:00, 00:30, 8.2&#176;C
00:30, 01:00, 7.1&#176;C
01:00, 01:30, 6.2&#176;C
01:30, 02:00,    N/A
02:00, 02:30, 4.7&#176;C
02:30, 03:00, 4.2&#176;C
03:00, 03:30, 3.9&#176;C
03:30, 04:00, 3.8&#176;C
04:00, 04:30, 3.9&#176;C
04:30, 05:00, 4.2&#176;C
05:00, 05:30, 4.7&#176;C
05:30, 06:00, 5.3&#176;C
06:00, 06:30, 6.1&#176;C
06:30, 07:00, 7.1&#176;C
07:00, 07:30, 8.1&#176;C
07:30, 08:00, 9.3&#176;C
08:00, 08:30, 10.6&#176;C
08:30, 09:00, 12.0&#176;C
09:00, 09:30, 13.4&#176;C
09:30, 10:00, 14.9&#176;C
10:00, 10:30, 16.3&#176;C
10:30, 11:00, 17.7&#176;C</pre>

    <p>Unaggregated series, by column, as a formatted string (<em>not JSON</em>) $day.outTemp.series.format(order_by='column'):</p>
    <pre>00:00, 00:30, 01:00, 01:30, 02:00, 02:30, 03:00, 03:30, 04:00, 04:30, 05:00, 05:30, 06:00, 06:30, 07:00, 07:30, 08:00, 08:30, 09:00, 09:30, 10:00, 10:30
00:30, 01:00, 01:30, 02:00, 02:30, 03:00, 03:30, 04:00, 04:30, 05:00, 05:30, 06:00, 06:30, 07:00, 07:30, 08:00, 08:30, 09:00, 09:30, 10:00, 10:30, 11:00
8.2&#176;C, 7.1&#176;C, 6.2&#176;C,    N/A, 4.7&#176;C, 4.2&#176;C, 3.9&#176;C, 3.8&#176;C, 3.9&#176;C, 4.2&#176;C, 4.7&#176;C, 5.3&#176;C, 6.1&#176;C, 7.1&#176;C, 8.1&#176;C, 9.3&#176;C, 10.6&#176;C, 12.0&#176;C, 13.4&#176;C, 14.9&#176;C, 16.3&#176;C, 17.7&#176;C</pre>

	<hr/>
	<h2>Aggregated series</h2>
	<p>Aggregated series: $month.outTemp.series(aggregation_type='max', aggregation_interval=86400).json():</p>
    <pre>[[1283324400, 1283410800, 26.569901666666667], [1283410800, 1283497200, 26.23604222222222], [1283497200, 1283583600, 17.734143888888887]]</pre>

	<p>Using shortcut 'day': $month.outTemp.series(aggregation_type='max', aggregation_interval='day').json():</p>
    <pre>[[1283324400, 1283410800, 26.569901666666667], [1283410800, 1283497200, 26.23604222222222], [1283497200, 1283583600, 17.734143888888887]]</pre>

	<p>Order by column: $month.outTemp.series(aggregation_type='max', aggregation_interval=86400).json(order_by="column"):</p>
    <pre>[[1283324400, 1283410800, 1283497200], [1283410800, 1283497200, 1283583600], [26.569901666666667, 26.23604222222222, 17.734143888888887]]</pre>

    <hr/>
    <h2>Complex conversions</h2>

    <p>Starting series: $month.windvec.series(aggregation_type='max', aggregation_interval='day').json()</p>
    <pre>
    [[1283324400, 1283410800, [-0.9837205617579349, 15.0086754575505]], [1283410800, 1283497200, [32.08358153133061, 2.1028690330784316]], [1283497200, 1283583600, [32.18688, 0.0]], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p> X-component: $month.windvec.series(aggregation_type='max', aggregation_interval='day').x.json()</p>
    <pre>
    [[1283324400, 1283410800, -0.9837205617579349], [1283410800, 1283497200, 32.08358153133061], [1283497200, 1283583600, 32.18688], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p> x-component, in knots: $month.windvec.series(aggregation_type='max', aggregation_interval='day').x.knot.json()</p>
    <pre>
    [[1283324400, 1283410800, -0.5311666100812127], [1283410800, 1283497200, 17.323748129049026], [1283497200, 1283583600, 17.379524840000002], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p>Y-component: $month.windvec.series(aggregation_type='max', aggregation_interval='day').y.json()</p>
    <pre>
    [[1283324400, 1283410800, 15.0086754575505], [1283410800, 1283497200, 2.1028690330784316], [1283497200, 1283583600, 0.0], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p>magnitude: $month.windvec.series(aggregation_type='max', aggregation_interval='day').magnitude.json()</p>
    <pre>
    [[1283324400, 1283410800, 15.040879134336], [1283410800, 1283497200, 32.152422335616], [1283497200, 1283583600, 32.18688], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p>direction: $month.windvec.series(aggregation_type='max', aggregation_interval='day').direction.json()</p>
    <pre>
    [[1283324400, 1283410800, 573.3288], [1283410800, 1283497200, 138.80592000000001], [1283497200, 1283583600, 144.84096], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p>polar: $month.windvec.series(aggregation_type='max', aggregation_interval='day').polar.json()</p>
    <pre>
    [[1283324400, 1283410800, [15.040879134336, 573.3288]], [1283410800, 1283497200, [32.152422335616, 138.80592000000001]], [1283497200, 1283583600, [32.18688, 144.84096]], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

    <p>polar in knots: $month.windvec.series(aggregation_type='max', aggregation_interval='day').polar.knot.json()</p>
    <pre>
    [[1283324400, 1283410800, [8.121425019468498, 309.5727862125]], [1283410800, 1283497200, [17.360919189682537, 74.9492008725]], [1283497200, 1283583600, [17.379524840000002, 78.20786178]], [1283583600, 1283670000, null], [1283670000, 1283756400, null], [1283756400, 1283842800, null], [1283842800, 1283929200, null], [1283929200, 1284015600, null], [1284015600, 1284102000, null], [1284102000, 1284188400, null], [1284188400, 1284274800, null], [1284274800, 1284361200, null], [1284361200, 1284447600, null], [1284447600, 1284534000, null], [1284534000, 1284620400, null], [1284620400, 1284706800, null], [1284706800, 1284793200, null], [1284793200, 1284879600, null], [1284879600, 1284966000, null], [1284966000, 1285052400, null], [1285052400, 1285138800, null], [1285138800, 1285225200, null], [1285225200, 1285311600, null], [1285311600, 1285398000, null], [1285398000, 1285484400, null], [1285484400, 1285570800, null], [1285570800, 1285657200, null], [1285657200, 1285743600, null], [1285743600, 1285830000, null], [1285830000, 1285916400, null]]
    </pre>

  <hr/>
  <h2>Iterate over an aggregated series</h2>
  <pre>
    #for ($start, $stop, $data) in $month.outTemp.series(aggregation_type='max', aggregation_interval='day')
      ...
    #end for
  </pre>

    <table>
      <tr>
        <td>Start date</td>
        <td>Stop date</td>
        <td>Max temperature</td>
      </tr>
      <tr>
        <td>2010-09-01</td>
        <td>2010-09-02</td>
        <td>26.57&#176;C</td>
      </tr>
      <tr>
        <td>2010-09-02</td>
        <td>2010-09-03</td>
        <td>26.24&#176;C</td>
      </tr>
      <tr>
        <td>2010-09-03</td>
        <td>2010-09-04</td>
        <td>17.73&#176;C</td>
      </tr>
    </table>

  </body>

</html>
